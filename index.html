<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gibbsta - GIBB Social</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#EC4899;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#F97316;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <path d="M75 35 C85 35, 90 40, 90 50 C90 55, 88 58, 85 60 L85 60 C88 62, 90 65, 90 70 C90 80, 85 85, 75 85 L25 85 C15 85, 10 80, 10 70 L10 70 C10 65, 12 62, 15 60 C12 58, 10 55, 10 50 C10 40, 15 35, 25 35 L40 35 C45 25, 55 20, 65 25 C70 27, 73 30, 75 35 Z" fill="url(#logoGradient)" stroke="none"/>
                        <circle cx="35" cy="50" r="8" fill="white"/>
                        <path d="M20 65 C25 70, 35 75, 50 75 C65 75, 75 70, 80 65" stroke="white" stroke-width="4" fill="none" stroke-linecap="round"/>
                    </svg>
                </div>
                <span>Gibbsta</span>
            </div>
            <div class="header-actions">
                <button class="header-btn" onclick="openMessages()" title="Nachrichten">
                    <i class="fas fa-envelope"></i>
                    <span class="notification-badge">3</span>
                </button>
                <button class="header-btn" onclick="openNotifications()" title="Benachrichtigungen">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">5</span>
                </button>
                <button class="header-btn" onclick="openSettings()" title="Einstellungen">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="content">
            <!-- Feed Section -->
            <section id="feed" class="section active">
                <!-- Story Bar -->
                <div class="story-bar">
                    <div class="story-item add-story" onclick="addStory()">
                        <div class="story-avatar">
                            <i class="fas fa-plus"></i>
                        </div>
                        <span>Deine Story</span>
                    </div>
                    <div class="story-item" onclick="viewStory('max')">
                        <div class="story-avatar" style="background: linear-gradient(45deg, #ff6b6b, #feca57);">MS</div>
                        <span>Max</span>
                    </div>
                    <div class="story-item" onclick="viewStory('lisa')">
                        <div class="story-avatar" style="background: linear-gradient(45deg, #48cae4, #023e8a);">LM</div>
                        <span>Lisa</span>
                    </div>
                    <div class="story-item" onclick="viewStory('anna')">
                        <div class="story-avatar" style="background: linear-gradient(45deg, #f72585, #b5179e);">AS</div>
                        <span>Anna</span>
                    </div>
                </div>

                <!-- Post Creator -->
                <div class="post-creator">
                    <div class="creator-header">
                        <div class="profile-pic user-pic">
                            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="profile-logo">
                                <defs>
                                    <linearGradient id="profileGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <text x="50" y="65" text-anchor="middle" fill="white" font-size="45" font-weight="bold" font-family="Arial, sans-serif">JS</text>
                            </svg>
                        </div>
                        <input type="text" placeholder="Was machst du gerade an der GIBB?" class="post-input-text" onclick="openPostModal()">
                    </div>
                    <div class="creator-actions">
                        <button class="creator-btn" onclick="openPostModal('photo')">
                            <i class="fas fa-camera"></i>
                            <span>Foto</span>
                        </button>
                        <button class="creator-btn" onclick="openPostModal('feeling')">
                            <i class="fas fa-smile"></i>
                            <span>Gefühl</span>
                        </button>
                        <button class="creator-btn" onclick="openPostModal('location')">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Ort</span>
                        </button>
                    </div>
                </div>

                <!-- Posts -->
                <div id="posts-container">
                    <!-- Posts werden dynamisch geladen -->
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat" class="section">
                <div class="chat-header">
                    <h2>Nachrichten</h2>
                    <button class="new-chat-btn" onclick="newChat()">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Suche nach Personen..." id="chatSearch" oninput="searchChats()">
                </div>

                <div class="chat-list" id="chatList">
                    <!-- Chats werden dynamisch geladen -->
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="section">
                <div class="profile-header">
                    <div class="profile-cover">
                        <button class="edit-cover-btn" onclick="editCover()">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    <div class="profile-info">
                        <div class="profile-avatar large" onclick="changeProfilePic()">
                            JS
                            <div class="avatar-overlay">
                                <i class="fas fa-camera"></i>
                            </div>
                        </div>
                        <h2>Jan Schneider</h2>
                        <p>Informatik • 2. Lehrjahr • GIBB Bern</p>
                        <div class="profile-actions">
                            <button class="btn primary" onclick="editProfile()">
                                <i class="fas fa-edit"></i>
                                Profil bearbeiten
                            </button>
                            <button class="btn secondary" onclick="shareProfile()">
                                <i class="fas fa-share"></i>
                                Teilen
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="profile-stats">
                    <div class="stat" onclick="showPosts()">
                        <div class="stat-number">24</div>
                        <div class="stat-label">Posts</div>
                    </div>
                    <div class="stat" onclick="showFollowers()">
                        <div class="stat-number">156</div>
                        <div class="stat-label">Follower</div>
                    </div>
                    <div class="stat" onclick="showFollowing()">
                        <div class="stat-number">89</div>
                        <div class="stat-label">Folge ich</div>
                    </div>
                </div>

                <div class="profile-content">
                    <div class="content-tabs">
                        <button class="tab-btn active" onclick="showProfileTab('posts')">
                            <i class="fas fa-th-large"></i>
                            Posts
                        </button>
                        <button class="tab-btn" onclick="showProfileTab('saved')">
                            <i class="fas fa-bookmark"></i>
                            Gespeichert
                        </button>
                        <button class="tab-btn" onclick="showProfileTab('tagged')">
                            <i class="fas fa-user-tag"></i>
                            Markiert
                        </button>
                    </div>
                    <div class="profile-grid" id="profileGrid">
                        <!-- Profile content wird dynamisch geladen -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="nav">
            <button class="nav-item active" onclick="showSection('feed')" data-section="feed">
                <i class="fas fa-home"></i>
                <span>Feed</span>
            </button>
            <button class="nav-item" onclick="showSection('explore')" data-section="explore">
                <i class="fas fa-search"></i>
                <span>Entdecken</span>
            </button>
            <button class="nav-item add-post" onclick="openPostModal()" data-section="add">
                <i class="fas fa-plus"></i>
            </button>
            <button class="nav-item" onclick="showSection('chat')" data-section="chat">
                <i class="fas fa-comments"></i>
                <span>Chat</span>
                <div class="nav-notification">3</div>
            </button>
            <button class="nav-item" onclick="showSection('profile')" data-section="profile">
                <i class="fas fa-user"></i>
                <span>Profil</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    
    <!-- Post Modal -->
    <div id="postModal" class="modal">
        <div class="modal-content post-modal">
            <div class="modal-header">
                <h3>Neuer Post</h3>
                <button class="close-btn" onclick="closeModal('postModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="post-creator-modal">
                    <div class="creator-header">
                        <div class="profile-pic user-pic">JS</div>
                        <div>
                            <strong>Jan Schneider</strong>
                            <div class="post-privacy">
                                <select id="postPrivacy">
                                    <option value="public">🌍 Öffentlich</option>
                                    <option value="friends">👥 Freunde</option>
                                    <option value="class">🎓 Nur meine Klasse</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <textarea placeholder="Was möchtest du teilen?" id="postText"></textarea>
                    <div class="image-preview" id="imagePreview"></div>
                    <div class="post-options">
                        <button class="option-btn" onclick="addImage()">
                            <i class="fas fa-camera"></i>
                            Foto/Video
                        </button>
                        <button class="option-btn" onclick="addLocation()">
                            <i class="fas fa-map-marker-alt"></i>
                            Ort hinzufügen
                        </button>
                        <button class="option-btn" onclick="addFeeling()">
                            <i class="fas fa-smile"></i>
                            Gefühl/Aktivität
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn secondary" onclick="closeModal('postModal')">Abbrechen</button>
                <button class="btn primary" onclick="publishPost()" id="publishBtn" disabled>Posten</button>
            </div>
        </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal">
        <div class="modal-content chat-modal">
            <div class="chat-window">
                <div class="chat-header-modal">
                    <button class="back-btn" onclick="closeModal('chatModal')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-user-info">
                        <div class="profile-pic" id="chatUserPic">MS</div>
                        <div>
                            <strong id="chatUserName">Max Schüler</strong>
                            <span class="online-status">Online</span>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="header-btn" onclick="callUser()">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="header-btn" onclick="videoCall()">
                            <i class="fas fa-video"></i>
                        </button>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages werden dynamisch geladen -->
                </div>
                <div class="chat-input-container">
                    <button class="chat-emoji-btn" onclick="openEmojiPicker()">
                        <i class="fas fa-smile"></i>
                    </button>
                    <input type="text" placeholder="Nachricht schreiben..." id="messageInput" onkeypress="handleEnterKey(event)">
                    <button class="chat-attach-btn" onclick="attachFile()">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <button class="chat-send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="notification-toast">
        <div class="toast-content">
            <i class="toast-icon"></i>
            <span class="toast-message"></span>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <!-- Gibbsta Watermark -->
    <div class="gibbsta-watermark">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="watermarkGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:0.5" />
                    <stop offset="50%" style="stop-color:#EC4899;stop-opacity:0.5" />
                    <stop offset="100%" style="stop-color:#F97316;stop-opacity:0.5" />
                </linearGradient>
            </defs>
            <path d="M75 35 C85 35, 90 40, 90 50 C90 55, 88 58, 85 60 L85 60 C88 62, 90 65, 90 70 C90 80, 85 85, 75 85 L25 85 C15 85, 10 80, 10 70 L10 70 C10 65, 12 62, 15 60 C12 58, 10 55, 10 50 C10 40, 15 35, 25 35 L40 35 C45 25, 55 20, 65 25 C70 27, 73 30, 75 35 Z" fill="url(#watermarkGradient)" stroke="none"/>
        </svg>
    </div>

    <script src="script.js"></script>
</body>
</html>
